{% extends "base.html" %}

<!-- Enhanced Meta Tags -->
{% block extrahead %}
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#1565C0">
  <meta name="msapplication-TileColor" content="#1565C0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  
  <!-- Open Graph Meta Tags -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="{{ config.site_name }}">
  <meta property="og:description" content="{{ config.site_description }}">
  <meta property="og:url" content="{{ config.site_url }}">
  <meta property="og:image" content="{{ config.site_url }}assets/images/og-image.png">
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{{ config.site_name }}">
  <meta name="twitter:description" content="{{ config.site_description }}">
  <meta name="twitter:image" content="{{ config.site_url }}assets/images/og-image.png">
  
  <!-- Enhanced Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  
  <!-- Custom Favicon Links -->
  <link rel="apple-touch-icon" sizes="180x180" href="{{ 'assets/images/apple-touch-icon.png' | url }}">
  <link rel="icon" type="image/png" sizes="32x32" href="{{ 'assets/images/favicon-32x32.png' | url }}">
  <link rel="icon" type="image/png" sizes="16x16" href="{{ 'assets/images/favicon-16x16.png' | url }}">
  <link rel="manifest" href="{{ 'assets/manifest.json' | url }}">
  
  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "{{ config.site_name }}",
    "description": "{{ config.site_description }}",
    "url": "{{ config.site_url }}",
    "applicationCategory": "BusinessApplication",
    "operatingSystem": "Web",
    "author": {
      "@type": "Organization",
      "name": "{{ config.site_author }}"
    }
  }
  </script>
{% endblock %}

<!-- Enhanced Header -->
{% block header %}
  {{ super() }}
  <!-- Custom Header Enhancement -->
  <div class="header-enhancement">
    <div class="header-particles"></div>
  </div>
{% endblock %}

<!-- Enhanced Content -->
{% block content %}
  <!-- Back to Top Button -->
  <button class="back-to-top" id="backToTop" title="Kembali ke atas">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
      <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/>
    </svg>
  </button>
  
  <!-- Reading Progress Indicator will be injected here -->
  
  {{ super() }}
{% endblock %}

<!-- Enhanced Footer -->
{% block footer %}
  <footer class="md-footer enhanced-footer">
    <div class="md-footer__inner md-grid">
      <!-- Enhanced Footer Content -->
      <div class="footer-content">
        <div class="footer-section">
          <h3 class="footer-title">{{ config.site_name }}</h3>
          <p class="footer-description">{{ config.site_description }}</p>
          
          <!-- Social Links -->
          <div class="footer-social">
            {% if config.extra.social %}
              {% for social in config.extra.social %}
                <a href="{{ social.link }}" target="_blank" rel="noopener" class="footer-social__link" title="{{ social.name }}">
                  {% include ".icons/" ~ social.icon ~ ".svg" %}
                </a>
              {% endfor %}
            {% endif %}
          </div>
        </div>
        
        <div class="footer-section">
          <h4 class="footer-subtitle">Quick Links</h4>
          <ul class="footer-links">
            <li><a href="{{ 'getting-started/installation/' | url }}">Installation</a></li>
            <li><a href="{{ 'user-guide/dashboard/' | url }}">Dashboard</a></li>
            <li><a href="{{ 'api/overview/' | url }}">API Docs</a></li>
            <li><a href="{{ 'about/team/' | url }}">Team</a></li>
          </ul>
        </div>
        
        <div class="footer-section">
          <h4 class="footer-subtitle">Support</h4>
          <ul class="footer-links">
            <li><a href="{{ config.repo_url }}/issues" target="_blank">Report Issues</a></li>
            <li><a href="{{ config.repo_url }}/discussions" target="_blank">Discussions</a></li>
            <li><a href="{{ 'development/contributing/' | url }}">Contributing</a></li>
          </ul>
        </div>
      </div>
      
      <!-- Copyright -->
      <div class="footer-copyright">
        <p data-dynamic-year>
          Â© 2024 {{ config.site_author }}. Built with 
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank">Material for MkDocs</a>
        </p>
      </div>
    </div>
  </footer>

  <!-- Custom Scripts -->
  <script>
    // Back to top functionality
    window.addEventListener('scroll', function() {
      const backToTop = document.getElementById('backToTop');
      if (window.pageYOffset > 300) {
        backToTop.classList.add('show');
      } else {
        backToTop.classList.remove('show');
      }
    });

    document.getElementById('backToTop').addEventListener('click', function() {
      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });

    // Header particles animation
    function createParticles() {
      const container = document.querySelector('.header-particles');
      if (!container) return;
      
      for (let i = 0; i < 20; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 2 + 's';
        particle.style.animationDuration = (Math.random() * 3 + 2) + 's';
        container.appendChild(particle);
      }
    }

    createParticles();
  </script>

  <!-- Additional Styles -->
  <style>
    .enhanced-footer {
      background: linear-gradient(135deg, #1565C0 0%, #0277BD 50%, #00BCD4 100%);
      color: white;
      margin-top: 4rem;
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 2rem;
      padding: 3rem 0 2rem 0;
    }

    .footer-title {
      font-size: 1.5rem;
      font-weight: 800;
      margin-bottom: 1rem;
      color: white;
    }

    .footer-subtitle {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: rgba(255, 255, 255, 0.9);
    }

    .footer-description {
      color: rgba(255, 255, 255, 0.8);
      line-height: 1.6;
      margin-bottom: 1.5rem;
    }

    .footer-social {
      display: flex;
      gap: 1rem;
    }

    .footer-social__link {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 2.5rem;
      height: 2.5rem;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      transition: all 0.3s ease;
    }

    .footer-social__link:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
    }

    .footer-social__link svg {
      width: 1.2rem;
      height: 1.2rem;
      fill: white;
    }

    .footer-links {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .footer-links li {
      margin-bottom: 0.5rem;
    }

    .footer-links a {
      color: rgba(255, 255, 255, 0.8);
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .footer-links a:hover {
      color: white;
      transform: translateX(4px);
    }

    .footer-copyright {
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      padding: 1.5rem 0;
      text-align: center;
      color: rgba(255, 255, 255, 0.7);
    }

    .footer-copyright a {
      color: rgba(255, 255, 255, 0.9);
      text-decoration: none;
    }

    .footer-copyright a:hover {
      color: white;
    }

    .back-to-top {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 3rem;
      height: 3rem;
      background: linear-gradient(135deg, #1565C0, #00BCD4);
      border: none;
      border-radius: 50%;
      color: white;
      cursor: pointer;
      opacity: 0;
      visibility: hidden;
      transform: translateY(20px);
      transition: all 0.3s ease;
      z-index: 1000;
      box-shadow: 0 4px 12px rgba(21, 101, 192, 0.3);
    }

    .back-to-top.show {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .back-to-top:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(21, 101, 192, 0.4);
    }

    .back-to-top svg {
      width: 1.2rem;
      height: 1.2rem;
    }

    .header-enhancement {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      pointer-events: none;
    }

    .header-particles {
      position: relative;
      width: 100%;
      height: 100%;
    }

    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 50%;
      animation: float infinite ease-in-out;
    }

    @keyframes float {
      0%, 100% {
        transform: translateY(0px) rotate(0deg);
        opacity: 0;
      }
      50% {
        transform: translateY(-20px) rotate(180deg);
        opacity: 1;
      }
    }

    /* Enhanced mobile experience */
    @media screen and (max-width: 768px) {
      .footer-content {
        grid-template-columns: 1fr;
        text-align: center;
        gap: 1.5rem;
      }
      
      .back-to-top {
        bottom: 1rem;
        right: 1rem;
        width: 2.5rem;
        height: 2.5rem;
      }
      
      .particle {
        display: none;
      }
    }
  </style>
{% endblock %}