<UserControl x:Class="PortLog.Views.Register1View"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:models="clr-namespace:PortLog.Models"
             xmlns:enums="clr-namespace:PortLog.Enumerations">
    <Grid Background="#F5F5F5">
        <Border MaxWidth="450" Background="White" 
                CornerRadius="10" Padding="40" VerticalAlignment="Center"
                HorizontalAlignment="Center">
            <Border.Effect>
                <DropShadowEffect BlurRadius="20" ShadowDepth="3" Opacity="0.3"/>
            </Border.Effect>

            <StackPanel>
                <TextBlock Text="Register" FontSize="32" FontWeight="Bold" 
                          HorizontalAlignment="Center" Margin="0,0,0,20"/>

                <Label Content="Username *"/>
                <TextBox Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"/>

                <Label Content="Full Name"/>
                <TextBox Text="{Binding FullName, UpdateSourceTrigger=PropertyChanged}"/>

                <Label Content="Email"/>
                <TextBox Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"/>

                <Label Content="Password *"/>
                <PasswordBox x:Name="PasswordBox" PasswordChanged="PasswordBox_OnPasswordChanged"/>

                <Label Content="Confirm Password *"/>
                <PasswordBox x:Name="ConfirmPasswordBox" PasswordChanged="ConfirmPasswordBox_OnPasswordChanged"/>

                <Label Content="Select Role *"/>
                <StackPanel Orientation="Horizontal" Margin="0,10">
                    <RadioButton Content="Role 1 (Administrator)" 
                                IsChecked="{Binding SelectedRole, Converter={StaticResource EnumToBoolConverter}, ConverterParameter={x:Static enums:AccountRole.MANAGER}}"
                                Margin="0,0,20,0" VerticalAlignment="Center"/>
                    <RadioButton Content="Role 2 (Member)" 
                                IsChecked="{Binding SelectedRole, Converter={StaticResource EnumToBoolConverter}, ConverterParameter={x:Static enums:AccountRole.CAPTAIN}}"
                                VerticalAlignment="Center"/>
                </StackPanel>

                <TextBlock Text="{Binding ErrorMessage}" 
                          Foreground="Red" 
                          Margin="0,10"
                          Visibility="{Binding ErrorMessage, Converter={StaticResource StringToVisibilityConverter}}"/>

                <Button Content="Register" 
                       Command="{Binding RegisterCommand}"
                       Margin="0,20,0,5"/>

                <Button Content="Back to Login" 
                       Command="{Binding BackToLoginCommand}"
                       Background="#6C757D"/>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>